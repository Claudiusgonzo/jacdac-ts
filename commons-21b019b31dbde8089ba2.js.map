{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/ChevronLeft.js","webpack:///./node_modules/@material-ui/core/esm/styles/useTheme.js","webpack:///./node_modules/@material-ui/core/esm/AppBar/AppBar.js","webpack:///./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js","webpack:///./node_modules/@material-ui/core/esm/utils/ownerDocument.js","webpack:///./node_modules/@material-ui/core/esm/Portal/Portal.js","webpack:///./node_modules/@material-ui/core/esm/utils/createChainedFunction.js","webpack:///./node_modules/@material-ui/core/esm/Modal/ModalManager.js","webpack:///./node_modules/@material-ui/core/esm/utils/ownerWindow.js","webpack:///./node_modules/@material-ui/core/esm/utils/getScrollbarSize.js","webpack:///./node_modules/@material-ui/core/esm/Unstable_TrapFocus/Unstable_TrapFocus.js","webpack:///./node_modules/@material-ui/core/esm/Modal/SimpleBackdrop.js","webpack:///./node_modules/@material-ui/core/esm/Modal/Modal.js","webpack:///./node_modules/react-transition-group/esm/config.js","webpack:///./node_modules/react-transition-group/esm/Transition.js","webpack:///./node_modules/@material-ui/core/esm/transitions/utils.js","webpack:///./node_modules/@material-ui/core/esm/Fade/Fade.js","webpack:///./node_modules/@material-ui/core/esm/Backdrop/Backdrop.js","webpack:///./node_modules/@material-ui/core/esm/Slide/Slide.js","webpack:///./node_modules/@material-ui/core/esm/utils/debounce.js","webpack:///./node_modules/@material-ui/core/esm/Drawer/Drawer.js","webpack:///./node_modules/@material-ui/core/esm/Divider/Divider.js","webpack:///../src/dom/hf2.ts","webpack:///./src/jacdac/Provider.tsx","webpack:///../src/dom/usb.ts","webpack:///./node_modules/@material-ui/core/esm/ClickAwayListener/ClickAwayListener.js","webpack:///./node_modules/@material-ui/core/esm/Grow/Grow.js","webpack:///./node_modules/@material-ui/core/esm/SnackbarContent/SnackbarContent.js","webpack:///./node_modules/@material-ui/core/esm/Snackbar/Snackbar.js","webpack:///./src/components/ErrorSnackbar.tsx","webpack:///./node_modules/@material-ui/core/esm/Collapse/Collapse.js","webpack:///./node_modules/@material-ui/core/esm/ListItemText/ListItemText.js","webpack:///./src/components/Toc.tsx","webpack:///./node_modules/@material-ui/core/esm/styles/createStyles.js","webpack:///./src/components/layout.tsx","webpack:///./node_modules/@material-ui/icons/Menu.js"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","_react","_default","createElement","d","useTheme","defaultTheme","props","ref","classes","className","_props$color","color","_props$position","position","other","Paper","square","component","elevation","root","concat","capitalize","withStyles","theme","backgroundColorDefault","palette","type","grey","display","flexDirection","width","boxSizing","zIndex","appBar","flexShrink","positionFixed","top","left","right","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","backgroundColor","getContrastText","colorPrimary","primary","main","contrastText","colorSecondary","secondary","colorInherit","colorTransparent","name","_props$component","Component","_props$disableGutters","disableGutters","_props$variant","variant","gutters","alignItems","paddingLeft","spacing","paddingRight","breakpoints","up","regular","mixins","toolbar","dense","minHeight","ownerDocument","node","document","useEnhancedEffect","window","children","container","_props$disablePortal","disablePortal","onRendered","_React$useState","mountNode","setMountNode","handleRef","useForkRef","getContainer","body","setRef","createChainedFunction","_len","arguments","length","funcs","Array","_key","reduce","acc","func","_len2","args","_key2","apply","this","isOverflowing","doc","defaultView","innerWidth","documentElement","clientWidth","scrollHeight","clientHeight","ariaHidden","show","setAttribute","removeAttribute","getPaddingRight","parseInt","getComputedStyle","ariaHiddenSiblings","currentNode","nodesToExclude","undefined","blacklist","blacklistTagNames","forEach","call","nodeType","indexOf","tagName","findIndexOf","containerInfo","callback","idx","some","item","index","handleContainer","fixedNodes","restoreStyle","restorePaddings","disableScrollLock","scrollbarSize","scrollDiv","style","height","overflow","appendChild","offsetWidth","removeChild","getScrollbarSize","push","key","el","querySelectorAll","parent","parentElement","scrollContainer","nodeName","i","removeProperty","_ref","setProperty","ModalManager","modals","containers","modal","modalIndex","modalRef","hiddenSiblingNodes","hiddenSiblings","getAttribute","getHiddenSiblings","containerIndex","restore","splice","nextTop","_props$disableAutoFoc","disableAutoFocus","_props$disableEnforce","disableEnforceFocus","_props$disableRestore","disableRestoreFocus","getDoc","isEnabled","open","ignoreNextEnforceFocus","sentinelStart","sentinelEnd","nodeToRestore","rootRef","handleOwnRef","instance","current","prevOpenRef","activeElement","contains","hasAttribute","focus","contain","hasFocus","loopFocus","event","keyCode","shiftKey","addEventListener","interval","setInterval","clearInterval","removeEventListener","tabIndex","bottom","WebkitTapHighlightColor","invisible","_props$invisible","defaultManager","inProps","getThemeProps","_props$BackdropCompon","BackdropComponent","BackdropProps","_props$closeAfterTran","closeAfterTransition","_props$disableBackdro","disableBackdropClick","_props$disableEscapeK","disableEscapeKeyDown","_props$disableScrollL","_props$hideBackdrop","hideBackdrop","_props$keepMounted","keepMounted","_props$manager","manager","onBackdropClick","onClose","onEscapeKeyDown","exited","setExited","mountNodeRef","hasTransition","hasOwnProperty","getHasTransition","getModal","handleMounted","mount","scrollTop","handleOpen","useEventCallback","resolvedContainer","add","isTopModal","handlePortalRef","handleClose","remove","inlineStyle","hidden","visibility","childProps","onEnter","onExited","onKeyDown","stopPropagation","role","onClick","target","currentTarget","_React$Component","Transition","context","_this","initialStatus","appear","isMounting","enter","appearStatus","unmountOnExit","mountOnEnter","state","status","nextCallback","getDerivedStateFromProps","prevState","_proto","prototype","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","mounting","performEnter","performExit","setState","_this2","appearing","_ref2","nodeRef","findDOMNode","maybeNode","maybeAppearing","timeouts","enterTimeout","config","safeSetState","onEntered","onEntering","onTransitionEnd","_this3","onExit","onExiting","cancel","nextState","setNextCallback","_this4","active","handler","doesNotHaveTimeoutOrListener","addEndListener","_ref3","maybeNextCallback","setTimeout","render","_this$props","TransitionGroupContext","Provider","cloneElement","Children","only","noop","contextType","defaultProps","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","reflow","getTransitionProps","options","_props$style","duration","transitionDuration","mode","delay","transitionDelay","entering","opacity","entered","defaultTimeout","enteringScreen","leavingScreen","_props$disableStrictM","disableStrictModeCompat","inProp","_props$TransitionComp","TransitionComponent","_props$timeout","enableStrictModeCompat","unstable_strictMode","foreignRef","normalizedTransitionCallback","nodeOrAppearing","isAppearing","handleEntering","handleEnter","transitionProps","webkitTransition","transitions","create","transition","handleEntered","handleExiting","handleExit","handleExited","justifyContent","setTranslateValue","direction","transform","rect","getBoundingClientRect","fakeTransform","computedStyle","getPropertyValue","offsetX","offsetY","transformValues","split","innerHeight","getTranslateValue","webkitTransform","_props$direction","childrenRef","handleRefIntermediary","easing","easeOut","sharp","updatePosition","handleResize","wait","debounced","that","later","clearTimeout","clear","debounce","oppositeDirection","defaultTransitionDuration","_props$anchor","anchor","anchorProp","_props$elevation","_props$ModalProps","ModalProps","BackdropPropsProp","_props$open","_props$PaperProps","PaperProps","SlideProps","_props$transitionDura","mounted","isHorizontal","getAnchor","drawer","paper","docked","slidingDrawer","flex","overflowY","WebkitOverflowScrolling","outline","paperAnchorLeft","paperAnchorRight","paperAnchorTop","maxHeight","paperAnchorBottom","paperAnchorDockedLeft","borderRight","divider","paperAnchorDockedTop","borderBottom","paperAnchorDockedRight","borderLeft","paperAnchorDockedBottom","borderTop","flip","_props$absolute","absolute","_props$flexItem","flexItem","_props$light","light","_props$orientation","orientation","_props$role","vertical","margin","border","inset","marginLeft","middle","marginRight","alignSelf","Transport","usb","readLoopStarted","ready","onData","v","onError","e","console","error","stack","log","msg","clearDev","dev","epIn","epOut","disconnectAsync","close","catch","then","U","Promise","resolve","recvPacketAsync","final","res","arr","Uint8Array","data","buffer","transferIn","endpointNumber","controlTransferIn","requestType","recipient","request","iface","interfaceNumber","reject","Error","productName","readLoop","buf","sendPacketAsync","pkt","transferOut","controlTransferOut","checkDevice","altIface","manufacturerName","configuration","interfaces","alt","alternates","interfaceClass","interfaceSubclass","tryReconnectAsync","getDevices","devices","requestDeviceAsync","requestDevice","filters","classCode","subclassCode","connectAsync","background","a","openDeviceAsync","selectConfiguration","endpoints","filter","packetSize","claimInterface","Proto","io","eventHandlers","msgs","cmdSeq","Math","random","lock","frames","tp","len","frame","onSerial","total","r","ptr","f","handleEvent","m","talkAsync","cmd","seq","numSkipped","handleReturnAsync","shiftAsync","info","slice","enqueue","sendMsgAsync","serial","loop","pos","onEvent","id","onJDMessage","sendJDMessageAsync","evid","toString","iserr","bus","hf2","navigator","JDBus","transport","errorHandler","Packet","fromFrame","timestamp","processPacket","p","toBuffer","h","createUSBBus","JacdacProvider","useState","firstConnect","setFirstConnect","connectionState","setConnectionState","useEffect","BusState","Disconnected","subscribe","CONNECTION_STATE","mapEventPropToEvent","eventProp","substring","toLowerCase","_props$disableReactTr","disableReactTree","_props$mouseEvent","mouseEvent","onClickAway","_props$touchEvent","touchEvent","movedRef","mountedRef","syntheticEventRef","handleClickAway","insideReactTree","clientX","clientY","clickedRootScrollbar","insideDOM","composedPath","createHandleSynthetic","handlerName","childrenPropsHandler","childrenProps","mappedTouchEvent","handleTouchMove","mappedMouseEvent","getScale","pow","timer","autoTimeout","_getTransitionProps","getAutoHeightDuration","join","_getTransitionProps2","nodeOrNext","maybeNext","next","muiSupportAuto","action","message","emphasis","typography","body2","flexWrap","padding","borderRadius","shape","flexGrow","minWidth","_props$anchorOrigin","anchorOrigin","horizontal","_props$autoHideDurati","autoHideDuration","ClickAwayListenerProps","ContentProps","_props$disableWindowB","disableWindowBlurListener","onMouseEnter","onMouseLeave","resumeHideDuration","TransitionProps","timerAutoHide","setAutoHideTimer","autoHideDurationParam","handlePause","handleResume","top1","bottom1","top3","bottom3","right3","left3","center","snackbar","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","ErrorSnackbar","useContext","JacdacContext","setOpen","setError","ERROR","exception","reason","_props$collapsedHeigh","collapsedHeight","collapsedHeightProp","standard","wrapperRef","autoTransitionDuration","wrapperHeight","duration2","wrapper","wrapperInner","_props$disableTypogra","disableTypography","_props$inset","primaryProp","primaryTypographyProps","secondaryProp","secondaryTypographyProps","ListContext","Typography","multiline","marginTop","marginBottom","useStyles","makeStyles","styles","maxWidth","nested","createStyles","Toc","toc","allMdx","edges","headings","test","map","path","fields","slug","tocNodes","replace","parts","pop","parentPath","treeifyToc","allSpecJson","nodes","shortId","List","entry","TocListItem","sub","Fragment","ListItem","button","to","in","child","appBarShift","menuButton","hide","drawerPaper","drawerHeader","content","contentShift","Layout","React","CssBaseline","clsx","IconButton","aria-label","edge","href","site","siteMetadata","title","ConnectButton","Date","getFullYear"],"mappings":"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","file":"commons-21b019b31dbde8089ba2.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');\n\nexports[\"default\"] = _default;","import { useTheme as useThemeWithoutDefault } from '@material-ui/styles';\nimport React from 'react';\nimport defaultTheme from './defaultTheme';\nexport default function useTheme() {\n  var theme = useThemeWithoutDefault() || defaultTheme;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(theme);\n  }\n\n  return theme;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nexport var styles = function styles(theme) {\n  var backgroundColorDefault = theme.palette.type === 'light' ? theme.palette.grey[100] : theme.palette.grey[900];\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      boxSizing: 'border-box',\n      // Prevent padding issue with the Modal and fixed positioned AppBar.\n      zIndex: theme.zIndex.appBar,\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `position=\"fixed\"`. */\n    positionFixed: {\n      position: 'fixed',\n      top: 0,\n      left: 'auto',\n      right: 0,\n      '@media print': {\n        // Prevent the app bar to be visible on each printed page.\n        position: 'absolute'\n      }\n    },\n\n    /* Styles applied to the root element if `position=\"absolute\"`. */\n    positionAbsolute: {\n      position: 'absolute',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"sticky\"`. */\n    positionSticky: {\n      // ⚠️ sticky is not supported by IE 11.\n      position: 'sticky',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"static\"`. */\n    positionStatic: {\n      position: 'static'\n    },\n\n    /* Styles applied to the root element if `position=\"relative\"`. */\n    positionRelative: {\n      position: 'relative'\n    },\n\n    /* Styles applied to the root element if `color=\"default\"`. */\n    colorDefault: {\n      backgroundColor: backgroundColorDefault,\n      color: theme.palette.getContrastText(backgroundColorDefault)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"transparent\"`. */\n    colorTransparent: {\n      backgroundColor: 'transparent',\n      color: 'inherit'\n    }\n  };\n};\nvar AppBar = /*#__PURE__*/React.forwardRef(function AppBar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$position = props.position,\n      position = _props$position === void 0 ? 'fixed' : _props$position,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"position\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    square: true,\n    component: \"header\",\n    elevation: 4,\n    className: clsx(classes.root, classes[\"position\".concat(capitalize(position))], classes[\"color\".concat(capitalize(color))], className, position === 'fixed' && 'mui-fixed'),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAppBar'\n})(AppBar);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'flex',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: _defineProperty({\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }, theme.breakpoints.up('sm'), {\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3)\n    }),\n\n    /* Styles applied to the root element if `variant=\"regular\"`. */\n    regular: theme.mixins.toolbar,\n\n    /* Styles applied to the root element if `variant=\"dense\"`. */\n    dense: {\n      minHeight: 48\n    }\n  };\n};\nvar Toolbar = /*#__PURE__*/React.forwardRef(function Toolbar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'regular' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, classes[variant], className, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiToolbar'\n})(Toolbar);","export default function ownerDocument(node) {\n  return node && node.ownerDocument || document;\n}","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { exactProp, HTMLElementType } from '@material-ui/utils';\nimport setRef from '../utils/setRef';\nimport useForkRef from '../utils/useForkRef';\n\nfunction getContainer(container) {\n  container = typeof container === 'function' ? container() : container; // #StrictMode ready\n\n  return ReactDOM.findDOMNode(container);\n}\n\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * Portals provide a first-class way to render children into a DOM node\n * that exists outside the DOM hierarchy of the parent component.\n */\n\nvar Portal = /*#__PURE__*/React.forwardRef(function Portal(props, ref) {\n  var children = props.children,\n      container = props.container,\n      _props$disablePortal = props.disablePortal,\n      disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal,\n      onRendered = props.onRendered;\n\n  var _React$useState = React.useState(null),\n      mountNode = _React$useState[0],\n      setMountNode = _React$useState[1];\n\n  var handleRef = useForkRef( /*#__PURE__*/React.isValidElement(children) ? children.ref : null, ref);\n  useEnhancedEffect(function () {\n    if (!disablePortal) {\n      setMountNode(getContainer(container) || document.body);\n    }\n  }, [container, disablePortal]);\n  useEnhancedEffect(function () {\n    if (mountNode && !disablePortal) {\n      setRef(ref, mountNode);\n      return function () {\n        setRef(ref, null);\n      };\n    }\n\n    return undefined;\n  }, [ref, mountNode, disablePortal]);\n  useEnhancedEffect(function () {\n    if (onRendered && (mountNode || disablePortal)) {\n      onRendered();\n    }\n  }, [onRendered, mountNode, disablePortal]);\n\n  if (disablePortal) {\n    if ( /*#__PURE__*/React.isValidElement(children)) {\n      return /*#__PURE__*/React.cloneElement(children, {\n        ref: handleRef\n      });\n    }\n\n    return children;\n  }\n\n  return mountNode ? /*#__PURE__*/ReactDOM.createPortal(children, mountNode) : mountNode;\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  Portal['propTypes' + ''] = exactProp(Portal.propTypes);\n}\n\nexport default Portal;","import \"core-js/modules/es6.array.reduce\";\n\n/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @param {function} functions to chain\n * @returns {function|null}\n */\nexport default function createChainedFunction() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.reduce(function (acc, func) {\n    if (func == null) {\n      return acc;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof func !== 'function') {\n        console.error('Material-UI: Invalid Argument Type, must only provide functions, undefined, or null.');\n      }\n    }\n\n    return function chainedFunction() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      acc.apply(this, args);\n      func.apply(this, args);\n    };\n  }, function () {});\n}","import \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport getScrollbarSize from '../utils/getScrollbarSize';\nimport ownerDocument from '../utils/ownerDocument';\nimport ownerWindow from '../utils/ownerWindow'; // Is a vertical scrollbar displayed?\n\nfunction isOverflowing(container) {\n  var doc = ownerDocument(container);\n\n  if (doc.body === container) {\n    return ownerWindow(doc).innerWidth > doc.documentElement.clientWidth;\n  }\n\n  return container.scrollHeight > container.clientHeight;\n}\n\nexport function ariaHidden(node, show) {\n  if (show) {\n    node.setAttribute('aria-hidden', 'true');\n  } else {\n    node.removeAttribute('aria-hidden');\n  }\n}\n\nfunction getPaddingRight(node) {\n  return parseInt(window.getComputedStyle(node)['padding-right'], 10) || 0;\n}\n\nfunction ariaHiddenSiblings(container, mountNode, currentNode) {\n  var nodesToExclude = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var show = arguments.length > 4 ? arguments[4] : undefined;\n  var blacklist = [mountNode, currentNode].concat(_toConsumableArray(nodesToExclude));\n  var blacklistTagNames = ['TEMPLATE', 'SCRIPT', 'STYLE'];\n  [].forEach.call(container.children, function (node) {\n    if (node.nodeType === 1 && blacklist.indexOf(node) === -1 && blacklistTagNames.indexOf(node.tagName) === -1) {\n      ariaHidden(node, show);\n    }\n  });\n}\n\nfunction findIndexOf(containerInfo, callback) {\n  var idx = -1;\n  containerInfo.some(function (item, index) {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n\nfunction handleContainer(containerInfo, props) {\n  var restoreStyle = [];\n  var restorePaddings = [];\n  var container = containerInfo.container;\n  var fixedNodes;\n\n  if (!props.disableScrollLock) {\n    if (isOverflowing(container)) {\n      // Compute the size before applying overflow hidden to avoid any scroll jumps.\n      var scrollbarSize = getScrollbarSize();\n      restoreStyle.push({\n        value: container.style.paddingRight,\n        key: 'padding-right',\n        el: container\n      }); // Use computed style, here to get the real padding to add our scrollbar width.\n\n      container.style['padding-right'] = \"\".concat(getPaddingRight(container) + scrollbarSize, \"px\"); // .mui-fixed is a global helper.\n\n      fixedNodes = ownerDocument(container).querySelectorAll('.mui-fixed');\n      [].forEach.call(fixedNodes, function (node) {\n        restorePaddings.push(node.style.paddingRight);\n        node.style.paddingRight = \"\".concat(getPaddingRight(node) + scrollbarSize, \"px\");\n      });\n    } // Improve Gatsby support\n    // https://css-tricks.com/snippets/css/force-vertical-scrollbar/\n\n\n    var parent = container.parentElement;\n    var scrollContainer = parent.nodeName === 'HTML' && window.getComputedStyle(parent)['overflow-y'] === 'scroll' ? parent : container; // Block the scroll even if no scrollbar is visible to account for mobile keyboard\n    // screensize shrink.\n\n    restoreStyle.push({\n      value: scrollContainer.style.overflow,\n      key: 'overflow',\n      el: scrollContainer\n    });\n    scrollContainer.style.overflow = 'hidden';\n  }\n\n  var restore = function restore() {\n    if (fixedNodes) {\n      [].forEach.call(fixedNodes, function (node, i) {\n        if (restorePaddings[i]) {\n          node.style.paddingRight = restorePaddings[i];\n        } else {\n          node.style.removeProperty('padding-right');\n        }\n      });\n    }\n\n    restoreStyle.forEach(function (_ref) {\n      var value = _ref.value,\n          el = _ref.el,\n          key = _ref.key;\n\n      if (value) {\n        el.style.setProperty(key, value);\n      } else {\n        el.style.removeProperty(key);\n      }\n    });\n  };\n\n  return restore;\n}\n\nfunction getHiddenSiblings(container) {\n  var hiddenSiblings = [];\n  [].forEach.call(container.children, function (node) {\n    if (node.getAttribute && node.getAttribute('aria-hidden') === 'true') {\n      hiddenSiblings.push(node);\n    }\n  });\n  return hiddenSiblings;\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\n\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager() {\n    _classCallCheck(this, ModalManager); // this.modals[modalIndex] = modal\n\n\n    this.modals = []; // this.containers[containerIndex] = {\n    //   modals: [],\n    //   container,\n    //   restore: null,\n    // }\n\n    this.containers = [];\n  }\n\n  _createClass(ModalManager, [{\n    key: \"add\",\n    value: function add(modal, container) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex !== -1) {\n        return modalIndex;\n      }\n\n      modalIndex = this.modals.length;\n      this.modals.push(modal); // If the modal we are adding is already in the DOM.\n\n      if (modal.modalRef) {\n        ariaHidden(modal.modalRef, false);\n      }\n\n      var hiddenSiblingNodes = getHiddenSiblings(container);\n      ariaHiddenSiblings(container, modal.mountNode, modal.modalRef, hiddenSiblingNodes, true);\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.container === container;\n      });\n\n      if (containerIndex !== -1) {\n        this.containers[containerIndex].modals.push(modal);\n        return modalIndex;\n      }\n\n      this.containers.push({\n        modals: [modal],\n        container: container,\n        restore: null,\n        hiddenSiblingNodes: hiddenSiblingNodes\n      });\n      return modalIndex;\n    }\n  }, {\n    key: \"mount\",\n    value: function mount(modal, props) {\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.containers[containerIndex];\n\n      if (!containerInfo.restore) {\n        containerInfo.restore = handleContainer(containerInfo, props);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex === -1) {\n        return modalIndex;\n      }\n\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.containers[containerIndex];\n      containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);\n      this.modals.splice(modalIndex, 1); // If that was the last modal in a container, clean up the container.\n\n      if (containerInfo.modals.length === 0) {\n        // The modal might be closed before it had the chance to be mounted in the DOM.\n        if (containerInfo.restore) {\n          containerInfo.restore();\n        }\n\n        if (modal.modalRef) {\n          // In case the modal wasn't in the DOM yet.\n          ariaHidden(modal.modalRef, true);\n        }\n\n        ariaHiddenSiblings(containerInfo.container, modal.mountNode, modal.modalRef, containerInfo.hiddenSiblingNodes, false);\n        this.containers.splice(containerIndex, 1);\n      } else {\n        // Otherwise make sure the next top modal is visible to a screen reader.\n        var nextTop = containerInfo.modals[containerInfo.modals.length - 1]; // as soon as a modal is adding its modalRef is undefined. it can't set\n        // aria-hidden because the dom element doesn't exist either\n        // when modal was unmounted before modalRef gets null\n\n        if (nextTop.modalRef) {\n          ariaHidden(nextTop.modalRef, false);\n        }\n      }\n\n      return modalIndex;\n    }\n  }, {\n    key: \"isTopModal\",\n    value: function isTopModal(modal) {\n      return this.modals.length > 0 && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n\n  return ModalManager;\n}();\n\nexport { ModalManager as default };","import ownerDocument from './ownerDocument';\nexport default function ownerWindow(node) {\n  var doc = ownerDocument(node);\n  return doc.defaultView || window;\n}","// A change of the browser zoom change the scrollbar size.\n// Credit https://github.com/twbs/bootstrap/blob/3ffe3a5d82f6f561b82ff78d82b32a7d14aed558/js/src/modal.js#L512-L519\nexport default function getScrollbarSize() {\n  var scrollDiv = document.createElement('div');\n  scrollDiv.style.width = '99px';\n  scrollDiv.style.height = '99px';\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  var scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarSize;\n}","/* eslint-disable consistent-return, jsx-a11y/no-noninteractive-tabindex, camelcase */\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport ownerDocument from '../utils/ownerDocument';\nimport useForkRef from '../utils/useForkRef';\nimport { exactProp } from '@material-ui/utils';\n/**\n * Utility component that locks focus inside the component.\n */\n\nfunction Unstable_TrapFocus(props) {\n  var children = props.children,\n      _props$disableAutoFoc = props.disableAutoFocus,\n      disableAutoFocus = _props$disableAutoFoc === void 0 ? false : _props$disableAutoFoc,\n      _props$disableEnforce = props.disableEnforceFocus,\n      disableEnforceFocus = _props$disableEnforce === void 0 ? false : _props$disableEnforce,\n      _props$disableRestore = props.disableRestoreFocus,\n      disableRestoreFocus = _props$disableRestore === void 0 ? false : _props$disableRestore,\n      getDoc = props.getDoc,\n      isEnabled = props.isEnabled,\n      open = props.open;\n  var ignoreNextEnforceFocus = React.useRef();\n  var sentinelStart = React.useRef(null);\n  var sentinelEnd = React.useRef(null);\n  var nodeToRestore = React.useRef();\n  var rootRef = React.useRef(null); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    rootRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(children.ref, handleOwnRef);\n  var prevOpenRef = React.useRef();\n  React.useEffect(function () {\n    prevOpenRef.current = open;\n  }, [open]);\n\n  if (!prevOpenRef.current && open && typeof window !== 'undefined') {\n    // WARNING: Potentially unsafe in concurrent mode.\n    // The way the read on `nodeToRestore` is setup could make this actually safe.\n    // Say we render `open={false}` -> `open={true}` but never commit.\n    // We have now written a state that wasn't committed. But no committed effect\n    // will read this wrong value. We only read from `nodeToRestore` in effects\n    // that were committed on `open={true}`\n    // WARNING: Prevents the instance from being garbage collected. Should only\n    // hold a weak ref.\n    nodeToRestore.current = getDoc().activeElement;\n  }\n\n  React.useEffect(function () {\n    if (!open) {\n      return;\n    }\n\n    var doc = ownerDocument(rootRef.current); // We might render an empty child.\n\n    if (!disableAutoFocus && rootRef.current && !rootRef.current.contains(doc.activeElement)) {\n      if (!rootRef.current.hasAttribute('tabIndex')) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(['Material-UI: The modal content node does not accept focus.', 'For the benefit of assistive technologies, ' + 'the tabIndex of the node is being set to \"-1\".'].join('\\n'));\n        }\n\n        rootRef.current.setAttribute('tabIndex', -1);\n      }\n\n      rootRef.current.focus();\n    }\n\n    var contain = function contain() {\n      if (!doc.hasFocus() || disableEnforceFocus || !isEnabled() || ignoreNextEnforceFocus.current) {\n        ignoreNextEnforceFocus.current = false;\n        return;\n      }\n\n      if (rootRef.current && !rootRef.current.contains(doc.activeElement)) {\n        rootRef.current.focus();\n      }\n    };\n\n    var loopFocus = function loopFocus(event) {\n      // 9 = Tab\n      if (disableEnforceFocus || !isEnabled() || event.keyCode !== 9) {\n        return;\n      } // Make sure the next tab starts from the right place.\n\n\n      if (doc.activeElement === rootRef.current) {\n        // We need to ignore the next contain as\n        // it will try to move the focus back to the rootRef element.\n        ignoreNextEnforceFocus.current = true;\n\n        if (event.shiftKey) {\n          sentinelEnd.current.focus();\n        } else {\n          sentinelStart.current.focus();\n        }\n      }\n    };\n\n    doc.addEventListener('focus', contain, true);\n    doc.addEventListener('keydown', loopFocus, true); // With Edge, Safari and Firefox, no focus related events are fired when the focused area stops being a focused area\n    // e.g. https://bugzilla.mozilla.org/show_bug.cgi?id=559561.\n    //\n    // The whatwg spec defines how the browser should behave but does not explicitly mention any events:\n    // https://html.spec.whatwg.org/multipage/interaction.html#focus-fixup-rule.\n\n    var interval = setInterval(function () {\n      contain();\n    }, 50);\n    return function () {\n      clearInterval(interval);\n      doc.removeEventListener('focus', contain, true);\n      doc.removeEventListener('keydown', loopFocus, true); // restoreLastFocus()\n\n      if (!disableRestoreFocus) {\n        // In IE 11 it is possible for document.activeElement to be null resulting\n        // in nodeToRestore.current being null.\n        // Not all elements in IE 11 have a focus method.\n        // Once IE 11 support is dropped the focus() call can be unconditional.\n        if (nodeToRestore.current && nodeToRestore.current.focus) {\n          nodeToRestore.current.focus();\n        }\n\n        nodeToRestore.current = null;\n      }\n    };\n  }, [disableAutoFocus, disableEnforceFocus, disableRestoreFocus, isEnabled, open]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: 0,\n    ref: sentinelStart,\n    \"data-test\": \"sentinelStart\"\n  }), /*#__PURE__*/React.cloneElement(children, {\n    ref: handleRef\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: 0,\n    ref: sentinelEnd,\n    \"data-test\": \"sentinelEnd\"\n  }));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  Unstable_TrapFocus['propTypes' + ''] = exactProp(Unstable_TrapFocus.propTypes);\n}\n\nexport default Unstable_TrapFocus;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    zIndex: -1,\n    position: 'fixed',\n    right: 0,\n    bottom: 0,\n    top: 0,\n    left: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    WebkitTapHighlightColor: 'transparent'\n  },\n\n  /* Styles applied to the root element if `invisible={true}`. */\n  invisible: {\n    backgroundColor: 'transparent'\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SimpleBackdrop = /*#__PURE__*/React.forwardRef(function SimpleBackdrop(props, ref) {\n  var _props$invisible = props.invisible,\n      invisible = _props$invisible === void 0 ? false : _props$invisible,\n      open = props.open,\n      other = _objectWithoutProperties(props, [\"invisible\", \"open\"]);\n\n  return open ? /*#__PURE__*/React.createElement(\"div\", _extends({\n    \"aria-hidden\": true,\n    ref: ref\n  }, other, {\n    style: _extends({}, styles.root, invisible ? styles.invisible : {}, other.style)\n  })) : null;\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default SimpleBackdrop;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { getThemeProps, useTheme } from '@material-ui/styles';\nimport { elementAcceptingRef, HTMLElementType } from '@material-ui/utils';\nimport ownerDocument from '../utils/ownerDocument';\nimport Portal from '../Portal';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport zIndex from '../styles/zIndex';\nimport ModalManager, { ariaHidden } from './ModalManager';\nimport TrapFocus from '../Unstable_TrapFocus';\nimport SimpleBackdrop from './SimpleBackdrop';\n\nfunction getContainer(container) {\n  container = typeof container === 'function' ? container() : container;\n  return ReactDOM.findDOMNode(container);\n}\n\nfunction getHasTransition(props) {\n  return props.children ? props.children.props.hasOwnProperty('in') : false;\n} // A modal manager used to track and manage the state of open Modals.\n// Modals don't open on the server so this won't conflict with concurrent requests.\n\n\nvar defaultManager = new ModalManager();\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'fixed',\n      zIndex: theme.zIndex.modal,\n      right: 0,\n      bottom: 0,\n      top: 0,\n      left: 0\n    },\n\n    /* Styles applied to the root element if the `Modal` has exited. */\n    hidden: {\n      visibility: 'hidden'\n    }\n  };\n};\n/**\n * Modal is a lower-level construct that is leveraged by the following components:\n *\n * - [Dialog](/api/dialog/)\n * - [Drawer](/api/drawer/)\n * - [Menu](/api/menu/)\n * - [Popover](/api/popover/)\n *\n * If you are creating a modal dialog, you probably want to use the [Dialog](/api/dialog/) component\n * rather than directly using Modal.\n *\n * This component shares many concepts with [react-overlays](https://react-bootstrap.github.io/react-overlays/#modals).\n */\n\nvar Modal = /*#__PURE__*/React.forwardRef(function Modal(inProps, ref) {\n  var theme = useTheme();\n  var props = getThemeProps({\n    name: 'MuiModal',\n    props: _extends({}, inProps),\n    theme: theme\n  });\n\n  var _props$BackdropCompon = props.BackdropComponent,\n      BackdropComponent = _props$BackdropCompon === void 0 ? SimpleBackdrop : _props$BackdropCompon,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      _props$closeAfterTran = props.closeAfterTransition,\n      closeAfterTransition = _props$closeAfterTran === void 0 ? false : _props$closeAfterTran,\n      container = props.container,\n      _props$disableAutoFoc = props.disableAutoFocus,\n      disableAutoFocus = _props$disableAutoFoc === void 0 ? false : _props$disableAutoFoc,\n      _props$disableBackdro = props.disableBackdropClick,\n      disableBackdropClick = _props$disableBackdro === void 0 ? false : _props$disableBackdro,\n      _props$disableEnforce = props.disableEnforceFocus,\n      disableEnforceFocus = _props$disableEnforce === void 0 ? false : _props$disableEnforce,\n      _props$disableEscapeK = props.disableEscapeKeyDown,\n      disableEscapeKeyDown = _props$disableEscapeK === void 0 ? false : _props$disableEscapeK,\n      _props$disablePortal = props.disablePortal,\n      disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal,\n      _props$disableRestore = props.disableRestoreFocus,\n      disableRestoreFocus = _props$disableRestore === void 0 ? false : _props$disableRestore,\n      _props$disableScrollL = props.disableScrollLock,\n      disableScrollLock = _props$disableScrollL === void 0 ? false : _props$disableScrollL,\n      _props$hideBackdrop = props.hideBackdrop,\n      hideBackdrop = _props$hideBackdrop === void 0 ? false : _props$hideBackdrop,\n      _props$keepMounted = props.keepMounted,\n      keepMounted = _props$keepMounted === void 0 ? false : _props$keepMounted,\n      _props$manager = props.manager,\n      manager = _props$manager === void 0 ? defaultManager : _props$manager,\n      onBackdropClick = props.onBackdropClick,\n      onClose = props.onClose,\n      onEscapeKeyDown = props.onEscapeKeyDown,\n      onRendered = props.onRendered,\n      open = props.open,\n      other = _objectWithoutProperties(props, [\"BackdropComponent\", \"BackdropProps\", \"children\", \"closeAfterTransition\", \"container\", \"disableAutoFocus\", \"disableBackdropClick\", \"disableEnforceFocus\", \"disableEscapeKeyDown\", \"disablePortal\", \"disableRestoreFocus\", \"disableScrollLock\", \"hideBackdrop\", \"keepMounted\", \"manager\", \"onBackdropClick\", \"onClose\", \"onEscapeKeyDown\", \"onRendered\", \"open\"]);\n\n  var _React$useState = React.useState(true),\n      exited = _React$useState[0],\n      setExited = _React$useState[1];\n\n  var modal = React.useRef({});\n  var mountNodeRef = React.useRef(null);\n  var modalRef = React.useRef(null);\n  var handleRef = useForkRef(modalRef, ref);\n  var hasTransition = getHasTransition(props);\n\n  var getDoc = function getDoc() {\n    return ownerDocument(mountNodeRef.current);\n  };\n\n  var getModal = function getModal() {\n    modal.current.modalRef = modalRef.current;\n    modal.current.mountNode = mountNodeRef.current;\n    return modal.current;\n  };\n\n  var handleMounted = function handleMounted() {\n    manager.mount(getModal(), {\n      disableScrollLock: disableScrollLock\n    }); // Fix a bug on Chrome where the scroll isn't initially 0.\n\n    modalRef.current.scrollTop = 0;\n  };\n\n  var handleOpen = useEventCallback(function () {\n    var resolvedContainer = getContainer(container) || getDoc().body;\n    manager.add(getModal(), resolvedContainer); // The element was already mounted.\n\n    if (modalRef.current) {\n      handleMounted();\n    }\n  });\n  var isTopModal = React.useCallback(function () {\n    return manager.isTopModal(getModal());\n  }, [manager]);\n  var handlePortalRef = useEventCallback(function (node) {\n    mountNodeRef.current = node;\n\n    if (!node) {\n      return;\n    }\n\n    if (onRendered) {\n      onRendered();\n    }\n\n    if (open && isTopModal()) {\n      handleMounted();\n    } else {\n      ariaHidden(modalRef.current, true);\n    }\n  });\n  var handleClose = React.useCallback(function () {\n    manager.remove(getModal());\n  }, [manager]);\n  React.useEffect(function () {\n    return function () {\n      handleClose();\n    };\n  }, [handleClose]);\n  React.useEffect(function () {\n    if (open) {\n      handleOpen();\n    } else if (!hasTransition || !closeAfterTransition) {\n      handleClose();\n    }\n  }, [open, handleClose, hasTransition, closeAfterTransition, handleOpen]);\n\n  if (!keepMounted && !open && (!hasTransition || exited)) {\n    return null;\n  }\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n\n    if (closeAfterTransition) {\n      handleClose();\n    }\n  };\n\n  var handleBackdropClick = function handleBackdropClick(event) {\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n\n    if (onBackdropClick) {\n      onBackdropClick(event);\n    }\n\n    if (!disableBackdropClick && onClose) {\n      onClose(event, 'backdropClick');\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    // The handler doesn't take event.defaultPrevented into account:\n    //\n    // event.preventDefault() is meant to stop default behaviours like\n    // clicking a checkbox to check it, hitting a button to submit a form,\n    // and hitting left arrow to move the cursor in a text input etc.\n    // Only special HTML elements have these default behaviors.\n    if (event.key !== 'Escape' || !isTopModal()) {\n      return;\n    }\n\n    if (onEscapeKeyDown) {\n      onEscapeKeyDown(event);\n    }\n\n    if (!disableEscapeKeyDown) {\n      // Swallow the event, in case someone is listening for the escape key on the body.\n      event.stopPropagation();\n\n      if (onClose) {\n        onClose(event, 'escapeKeyDown');\n      }\n    }\n  };\n\n  var inlineStyle = styles(theme || {\n    zIndex: zIndex\n  });\n  var childProps = {};\n\n  if (children.props.tabIndex === undefined) {\n    childProps.tabIndex = children.props.tabIndex || '-1';\n  } // It's a Transition like component\n\n\n  if (hasTransition) {\n    childProps.onEnter = createChainedFunction(handleEnter, children.props.onEnter);\n    childProps.onExited = createChainedFunction(handleExited, children.props.onExited);\n  }\n\n  return /*#__PURE__*/React.createElement(Portal, {\n    ref: handlePortalRef,\n    container: container,\n    disablePortal: disablePortal\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: handleRef,\n    onKeyDown: handleKeyDown,\n    role: \"presentation\"\n  }, other, {\n    style: _extends({}, inlineStyle.root, !open && exited ? inlineStyle.hidden : {}, other.style)\n  }), hideBackdrop ? null : /*#__PURE__*/React.createElement(BackdropComponent, _extends({\n    open: open,\n    onClick: handleBackdropClick\n  }, BackdropProps)), /*#__PURE__*/React.createElement(TrapFocus, {\n    disableEnforceFocus: disableEnforceFocus,\n    disableAutoFocus: disableAutoFocus,\n    disableRestoreFocus: disableRestoreFocus,\n    getDoc: getDoc,\n    isEnabled: isTopModal,\n    open: open\n  }, /*#__PURE__*/React.cloneElement(children, childProps))));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Modal;","export default {\n  disabled: false\n};","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props[\"in\"]) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref[\"in\"];\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props[\"in\"]) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props[\"in\"],\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\n\n// Name the function so it is clearer in the documentation\nfunction noop() {}\n\nTransition.defaultProps = {\n  \"in\": false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","export var reflow = function reflow(node) {\n  return node.scrollTop;\n};\nexport function getTransitionProps(props, options) {\n  var timeout = props.timeout,\n      _props$style = props.style,\n      style = _props$style === void 0 ? {} : _props$style;\n  return {\n    duration: style.transitionDuration || typeof timeout === 'number' ? timeout : timeout[options.mode] || 0,\n    delay: style.transitionDelay\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { Transition } from 'react-transition-group';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\nvar styles = {\n  entering: {\n    opacity: 1\n  },\n  entered: {\n    opacity: 1\n  }\n};\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Fade transition is used by the [Modal](/components/modal/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Fade = /*#__PURE__*/React.forwardRef(function Fade(props, ref) {\n  var children = props.children,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props[\"in\"],\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"TransitionComponent\", \"timeout\"]);\n\n  var theme = useTheme();\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var foreignRef = useForkRef(children.ref, ref);\n  var handleRef = useForkRef(enableStrictModeCompat ? nodeRef : undefined, foreignRef);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEntering = normalizedTransitionCallback(onEntering);\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    reflow(node); // So the animation always start from the start.\n\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    \"in\": inProp,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      style: _extends({\n        opacity: 0,\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, styles[state], style, children.props.style),\n      ref: handleRef\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Fade;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Fade from '../Fade';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    // Improve scrollable dialog support.\n    zIndex: -1,\n    position: 'fixed',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    right: 0,\n    bottom: 0,\n    top: 0,\n    left: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    WebkitTapHighlightColor: 'transparent'\n  },\n\n  /* Styles applied to the root element if `invisible={true}`. */\n  invisible: {\n    backgroundColor: 'transparent'\n  }\n};\nvar Backdrop = /*#__PURE__*/React.forwardRef(function Backdrop(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$invisible = props.invisible,\n      invisible = _props$invisible === void 0 ? false : _props$invisible,\n      open = props.open,\n      transitionDuration = props.transitionDuration,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Fade : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"invisible\", \"open\", \"transitionDuration\", \"TransitionComponent\"]);\n\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    \"in\": open,\n    timeout: transitionDuration\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.root, className, invisible && classes.invisible),\n    \"aria-hidden\": true,\n    ref: ref\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBackdrop'\n})(Backdrop);","import \"core-js/modules/es6.regexp.split\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport debounce from '../utils/debounce';\nimport { Transition } from 'react-transition-group';\nimport { elementAcceptingRef } from '@material-ui/utils';\nimport useForkRef from '../utils/useForkRef';\nimport useTheme from '../styles/useTheme';\nimport { duration } from '../styles/transitions';\nimport { reflow, getTransitionProps } from '../transitions/utils'; // Translate the node so he can't be seen on the screen.\n// Later, we gonna translate back the node to his original location\n// with `none`.`\n\nfunction getTranslateValue(direction, node) {\n  var rect = node.getBoundingClientRect();\n  var transform;\n\n  if (node.fakeTransform) {\n    transform = node.fakeTransform;\n  } else {\n    var computedStyle = window.getComputedStyle(node);\n    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n  }\n\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (transform && transform !== 'none' && typeof transform === 'string') {\n    var transformValues = transform.split('(')[1].split(')')[0].split(',');\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  if (direction === 'left') {\n    return \"translateX(\".concat(window.innerWidth, \"px) translateX(\").concat(offsetX - rect.left, \"px)\");\n  }\n\n  if (direction === 'right') {\n    return \"translateX(-\".concat(rect.left + rect.width - offsetX, \"px)\");\n  }\n\n  if (direction === 'up') {\n    return \"translateY(\".concat(window.innerHeight, \"px) translateY(\").concat(offsetY - rect.top, \"px)\");\n  } // direction === 'down'\n\n\n  return \"translateY(-\".concat(rect.top + rect.height - offsetY, \"px)\");\n}\n\nexport function setTranslateValue(direction, node) {\n  var transform = getTranslateValue(direction, node);\n\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Slide transition is used by the [Drawer](/components/drawers/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Slide = /*#__PURE__*/React.forwardRef(function Slide(props, ref) {\n  var children = props.children,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'down' : _props$direction,\n      inProp = props[\"in\"],\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"direction\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var childrenRef = React.useRef(null);\n  /**\n   * used in cloneElement(children, { ref: handleRef })\n   */\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    childrenRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRefIntermediary = useForkRef(children.ref, handleOwnRef);\n  var handleRef = useForkRef(handleRefIntermediary, ref);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (isAppearing) {\n      if (callback) {\n        // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n        if (isAppearing === undefined) {\n          callback(childrenRef.current);\n        } else {\n          callback(childrenRef.current, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    setTranslateValue(direction, node);\n    reflow(node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.webkitTransform = 'none';\n    node.style.transform = 'none';\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    setTranslateValue(direction, node);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(function (node) {\n    // No need for transitions when the component is hidden\n    node.style.webkitTransition = '';\n    node.style.transition = '';\n\n    if (onExited) {\n      onExited(node);\n    }\n  });\n  var updatePosition = React.useCallback(function () {\n    if (childrenRef.current) {\n      setTranslateValue(direction, childrenRef.current);\n    }\n  }, [direction]);\n  React.useEffect(function () {\n    // Skip configuration where the position is screen size invariant.\n    if (inProp || direction === 'down' || direction === 'right') {\n      return undefined;\n    }\n\n    var handleResize = debounce(function () {\n      if (childrenRef.current) {\n        setTranslateValue(direction, childrenRef.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [direction, inProp]);\n  React.useEffect(function () {\n    if (!inProp) {\n      // We need to update the position of the drawer when the direction change and\n      // when it's hidden.\n      updatePosition();\n    }\n  }, [inProp, updatePosition]);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    nodeRef: childrenRef,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    appear: true,\n    \"in\": inProp,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      ref: handleRef,\n      style: _extends({\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, style, children.props.style)\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Slide;","// Corresponds to 10 frames at 60 Hz.\n// A few bytes payload overhead when lodash/debounce is ~3 kB and debounce ~300 B.\nexport default function debounce(func) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 166;\n  var timeout;\n\n  function debounced() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    } // eslint-disable-next-line consistent-this\n\n\n    var that = this;\n\n    var later = function later() {\n      func.apply(that, args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  }\n\n  debounced.clear = function () {\n    clearTimeout(timeout);\n  };\n\n  return debounced;\n}","import \"core-js/modules/es6.string.anchor\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport withStyles from '../styles/withStyles';\nimport Slide from '../Slide';\nimport Paper from '../Paper';\nimport capitalize from '../utils/capitalize';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `variant=\"permanent or persistent\"`. */\n    docked: {\n      flex: '0 0 auto'\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      flex: '1 0 auto',\n      zIndex: theme.zIndex.drawer,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      // temporary style\n      position: 'fixed',\n      top: 0,\n      // We disable the focus ring for mouse, touch and keyboard users.\n      // At some point, it would be better to keep it for keyboard users.\n      // :focus-ring CSS pseudo-class will help.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"`. */\n    paperAnchorLeft: {\n      left: 0,\n      right: 'auto'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"`. */\n    paperAnchorRight: {\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"`. */\n    paperAnchorTop: {\n      top: 0,\n      left: 0,\n      bottom: 'auto',\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"`. */\n    paperAnchorBottom: {\n      top: 'auto',\n      left: 0,\n      bottom: 0,\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedLeft: {\n      borderRight: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedTop: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedRight: {\n      borderLeft: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedBottom: {\n      borderTop: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Modal` component. */\n    modal: {}\n  };\n};\nvar oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\nexport function isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\nexport function getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nvar Drawer = /*#__PURE__*/React.forwardRef(function Drawer(props, ref) {\n  var _props$anchor = props.anchor,\n      anchorProp = _props$anchor === void 0 ? 'left' : _props$anchor,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$elevation = props.elevation,\n      elevation = _props$elevation === void 0 ? 16 : _props$elevation,\n      _props$ModalProps = props.ModalProps;\n  _props$ModalProps = _props$ModalProps === void 0 ? {} : _props$ModalProps;\n\n  var BackdropPropsProp = _props$ModalProps.BackdropProps,\n      ModalProps = _objectWithoutProperties(_props$ModalProps, [\"BackdropProps\"]),\n      onClose = props.onClose,\n      _props$open = props.open,\n      open = _props$open === void 0 ? false : _props$open,\n      _props$PaperProps = props.PaperProps,\n      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,\n      SlideProps = props.SlideProps,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Slide : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'temporary' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchor\", \"BackdropProps\", \"children\", \"classes\", \"className\", \"elevation\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"TransitionComponent\", \"transitionDuration\", \"variant\"]);\n\n  var theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    mounted.current = true;\n  }, []);\n  var anchor = getAnchor(theme, anchorProp);\n  var drawer = /*#__PURE__*/React.createElement(Paper, _extends({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true\n  }, PaperProps, {\n    className: clsx(classes.paper, classes[\"paperAnchor\".concat(capitalize(anchor))], PaperProps.className, variant !== 'temporary' && classes[\"paperAnchorDocked\".concat(capitalize(anchor))])\n  }), children);\n\n  if (variant === 'permanent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), drawer);\n  }\n\n  var slidingDrawer = /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    \"in\": open,\n    direction: oppositeDirection[anchor],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps), drawer);\n\n  if (variant === 'persistent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), slidingDrawer);\n  } // variant === temporary\n\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    BackdropProps: _extends({}, BackdropProps, BackdropPropsProp, {\n      transitionDuration: transitionDuration\n    }),\n    BackdropComponent: Backdrop,\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    onClose: onClose,\n    ref: ref\n  }, other, ModalProps), slidingDrawer);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDrawer',\n  flip: false\n})(Drawer);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      height: 1,\n      margin: 0,\n      // Reset browser default style.\n      border: 'none',\n      flexShrink: 0,\n      backgroundColor: theme.palette.divider\n    },\n\n    /* Styles applied to the root element if `absolute={true}`. */\n    absolute: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `variant=\"inset\"`. */\n    inset: {\n      marginLeft: 72\n    },\n\n    /* Styles applied to the root element if `light={true}`. */\n    light: {\n      backgroundColor: fade(theme.palette.divider, 0.08)\n    },\n\n    /* Styles applied to the root element if `variant=\"middle\"`. */\n    middle: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      height: '100%',\n      width: 1\n    },\n\n    /* Styles applied to the root element if `flexItem={true}`. */\n    flexItem: {\n      alignSelf: 'stretch',\n      height: 'auto'\n    }\n  };\n};\nvar Divider = /*#__PURE__*/React.forwardRef(function Divider(props, ref) {\n  var _props$absolute = props.absolute,\n      absolute = _props$absolute === void 0 ? false : _props$absolute,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'hr' : _props$component,\n      _props$flexItem = props.flexItem,\n      flexItem = _props$flexItem === void 0 ? false : _props$flexItem,\n      _props$light = props.light,\n      light = _props$light === void 0 ? false : _props$light,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$role = props.role,\n      role = _props$role === void 0 ? Component !== 'hr' ? 'separator' : undefined : _props$role,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'fullWidth' : _props$variant,\n      other = _objectWithoutProperties(props, [\"absolute\", \"classes\", \"className\", \"component\", \"flexItem\", \"light\", \"orientation\", \"role\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'fullWidth' && classes[variant], absolute && classes.absolute, flexItem && classes.flexItem, light && classes.light, orientation === 'vertical' && classes.vertical),\n    role: role,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDivider'\n})(Divider);","import * as U from \"./utils\"\nimport { USBOptions } from \"./usb\";\n\nconst controlTransferGetReport = 0x01;\nconst controlTransferSetReport = 0x09;\nconst controlTransferOutReport = 0x200;\nconst controlTransferInReport = 0x100;\n\n// see https://github.com/microsoft/uf2/blob/master/hf2.md for full spec\nexport const HF2_DEVICE_MAJOR = 42\nexport const HF2_CMD_BININFO = 0x0001 // no arguments\nexport const HF2_MODE_BOOTLOADER = 0x01\nexport const HF2_MODE_USERSPACE = 0x02\n/*\nstruct HF2_BININFO_Result {\n    uint32_t mode;\n    uint32_t flash_page_size;\n    uint32_t flash_num_pages;\n    uint32_t max_message_size;\n};\n*/\n\nexport const HF2_CMD_INFO = 0x0002\n// no arguments\n// results is utf8 character array\n\nexport const HF2_CMD_RESET_INTO_APP = 0x0003// no arguments, no result\n\nexport const HF2_CMD_RESET_INTO_BOOTLOADER = 0x0004  // no arguments, no result\n\nexport const HF2_CMD_START_FLASH = 0x0005   // no arguments, no result\n\nexport const HF2_CMD_WRITE_FLASH_PAGE = 0x0006\n/*\nstruct HF2_WRITE_FLASH_PAGE_Command {\n    uint32_t target_addr;\n    uint32_t data[flash_page_size];\n};\n*/\n// no result\n\nexport const HF2_CMD_CHKSUM_PAGES = 0x0007\n/*\nstruct HF2_CHKSUM_PAGES_Command {\n    uint32_t target_addr;\n    uint32_t num_pages;\n};\nstruct HF2_CHKSUM_PAGES_Result {\n    uint16_t chksums[num_pages];\n};\n*/\n\nexport const HF2_CMD_READ_WORDS = 0x0008\n/*\nstruct HF2_READ_WORDS_Command {\n    uint32_t target_addr;\n    uint32_t num_words;\n};\nstruct HF2_READ_WORDS_Result {\n    uint32_t words[num_words];\n};\n*/\n\nexport const HF2_CMD_WRITE_WORDS = 0x0009\n/*\nstruct HF2_WRITE_WORDS_Command {\n    uint32_t target_addr;\n    uint32_t num_words;\n    uint32_t words[num_words];\n};\n*/\n// no result\n\nexport const HF2_CMD_DMESG = 0x0010\n// no arguments\n// results is utf8 character array\n\nexport const HF2_FLAG_SERIAL_OUT = 0x80\nexport const HF2_FLAG_SERIAL_ERR = 0xC0\nexport const HF2_FLAG_CMDPKT_LAST = 0x40\nexport const HF2_FLAG_CMDPKT_BODY = 0x00\nexport const HF2_FLAG_MASK = 0xC0\nexport const HF2_SIZE_MASK = 63\n\nexport const HF2_STATUS_OK = 0x00\nexport const HF2_STATUS_INVALID_CMD = 0x01\nexport const HF2_STATUS_EXEC_ERR = 0x02\nexport const HF2_STATUS_EVENT = 0x80\n\n// the eventId is overlayed on the tag+status; the mask corresponds\n// to the HF2_STATUS_EVENT above\nexport const HF2_EV_MASK = 0x800000\n\nexport const HF2_CMD_JDS_CONFIG = 0x0020\nexport const HF2_CMD_JDS_SEND = 0x0021\nexport const HF2_EV_JDS_PACKET = 0x800020\n\nexport class Transport {\n    dev: USBDevice;\n    iface: USBInterface;\n    altIface: USBAlternateInterface;\n    epIn: USBEndpoint;\n    epOut: USBEndpoint;\n    readLoopStarted = false;\n    ready = false;\n\n    constructor(private usb: USBOptions) {\n\n    }\n\n    onData = (v: Uint8Array) => { };\n    onError = (e: Error) => {\n        console.error(\"HF2 error: \" + (e ? e.stack : e))\n    };\n\n    log(msg: string, v?: any) {\n        if (v != undefined)\n            console.log(\"HF2: \" + msg, v)\n        else\n            console.log(\"HF2: \" + msg)\n    }\n\n\n    private clearDev() {\n        if (this.dev) {\n            this.dev = null\n            this.epIn = null\n            this.epOut = null\n        }\n    }\n\n    disconnectAsync(): Promise<void> {\n        this.ready = false\n        if (!this.dev) return Promise.resolve()\n        this.log(\"close device\")\n        return this.dev.close()\n            .catch(e => {\n                // just ignore errors closing, most likely device just disconnected\n            })\n            .then(() => {\n                this.clearDev()\n                return U.delay(500)\n            })\n    }\n\n    private recvPacketAsync(): Promise<Uint8Array> {\n        let final = (res: USBInTransferResult) => {\n            if (res.status != \"ok\")\n                this.error(\"USB IN transfer failed\")\n            let arr = new Uint8Array(res.data.buffer)\n            if (arr.length == 0)\n                return this.recvPacketAsync()\n            return arr\n        }\n\n        if (!this.dev)\n            return Promise.reject(new Error(\"Disconnected\"))\n\n        if (!this.epIn) {\n            return this.dev.controlTransferIn({\n                requestType: \"class\",\n                recipient: \"interface\",\n                request: controlTransferGetReport,\n                value: controlTransferInReport,\n                index: this.iface.interfaceNumber\n            }, 64).then(final)\n        }\n\n        return this.dev.transferIn(this.epIn.endpointNumber, 64)\n            .then(final)\n    }\n\n    error(msg: string) {\n        console.error(`USB error on device ${this.dev ? this.dev.productName : \"n/a\"} (${msg})`)\n        this.onError(new Error(\"hf2 error\"))\n    }\n\n    private async readLoop() {\n        if (this.readLoopStarted)\n            return\n        this.readLoopStarted = true\n        this.log(\"start read loop\")\n\n        while (true) {\n            if (!this.ready) {\n                break\n                //await U.delay(300)\n                //continue\n            }\n\n            try {\n                const buf = await this.recvPacketAsync()\n\n                if (buf[0]) {\n                    // we've got data; retry reading immedietly after processing it\n                    this.onData(buf)\n                } else {\n                    // throttle down if no data coming\n                    await U.delay(5)\n                }\n            } catch (err) {\n                if (this.dev) {\n                    this.onError(err)\n                    await this.disconnectAsync()\n                }\n                await U.delay(300)\n            }\n        }\n    }\n\n    sendPacketAsync(pkt: Uint8Array) {\n        if (!this.dev)\n            return Promise.reject(new Error(\"Disconnected\"))\n        U.assert(pkt.length <= 64)\n        if (!this.epOut) {\n            return this.dev.controlTransferOut({\n                requestType: \"class\",\n                recipient: \"interface\",\n                request: controlTransferSetReport,\n                value: controlTransferOutReport,\n                index: this.iface.interfaceNumber\n            }, pkt).then(res => {\n                if (res.status != \"ok\")\n                    this.error(\"USB CTRL OUT transfer failed\")\n            })\n        }\n        return this.dev.transferOut(this.epOut.endpointNumber, pkt)\n            .then(res => {\n                if (res.status != \"ok\")\n                    this.error(\"USB OUT transfer failed\")\n            })\n    }\n\n    private checkDevice() {\n        this.iface = undefined;\n        this.altIface = undefined;\n        if (!this.dev)\n            return false;\n        this.log(\"connect device: \" + this.dev.manufacturerName + \" \" + this.dev.productName)\n        // resolve interfaces\n        for (const iface of this.dev.configuration.interfaces) {\n            const alt = iface.alternates[0]\n            if (alt.interfaceClass == 0xff && alt.interfaceSubclass == HF2_DEVICE_MAJOR) {\n                this.iface = iface;\n                this.altIface = alt;\n                break;\n            }\n        }\n        return !!this.iface;\n    }\n\n    private async tryReconnectAsync() {\n        try {\n            const devices = await this.usb.getDevices();\n            this.dev = devices[0];\n        } catch (e) {\n            console.log(e)\n            this.dev = undefined;\n        }\n    }\n\n    private async requestDeviceAsync() {\n        try {\n            this.dev = await this.usb.requestDevice({\n                filters: [{\n                    classCode: 255,\n                    subclassCode: HF2_DEVICE_MAJOR,\n                }]\n            })\n        } catch (e) {\n            console.log(e)\n            this.dev = undefined;\n        }\n    }\n\n    async connectAsync(background: boolean) {\n        await this.tryReconnectAsync();\n        if (!this.dev && !background)\n            await this.requestDeviceAsync();\n        await this.openDeviceAsync();\n    }\n\n    private async openDeviceAsync() {\n        if (!this.dev)\n            throw new Error(\"device not found\")\n        if (!this.checkDevice())\n            throw new Error(\"device does not support HF2\")\n\n        await this.dev.open()\n        await this.dev.selectConfiguration(1)\n        if (this.altIface.endpoints.length) {\n            this.epIn = this.altIface.endpoints.filter(e => e.direction == \"in\")[0]\n            this.epOut = this.altIface.endpoints.filter(e => e.direction == \"out\")[0]\n            U.assert(this.epIn.packetSize == 64);\n            U.assert(this.epOut.packetSize == 64);\n        }\n        this.log(\"claim interface\")\n        await this.dev.claimInterface(this.iface.interfaceNumber)\n        this.log(\"all connected\")\n        this.ready = true\n        this.readLoop()\n    }\n}\n\nexport class Proto {\n    eventHandlers: U.SMap<(buf: Uint8Array) => void> = {}\n    msgs = new U.PromiseBuffer<Uint8Array>()\n    cmdSeq = (Math.random() * 0xffff) | 0;\n    private lock = new U.PromiseQueue();\n\n    constructor(public io: Transport) {\n        let frames: Uint8Array[] = []\n\n        io.onData = buf => {\n            let tp = buf[0] & HF2_FLAG_MASK\n            let len = buf[0] & 63\n            //console.log(`msg tp=${tp} len=${len}`)\n            let frame = new Uint8Array(len)\n            U.memcpy(frame, 0, buf, 1, len)\n            if (tp & HF2_FLAG_SERIAL_OUT) {\n                this.onSerial(frame, tp == HF2_FLAG_SERIAL_ERR)\n                return\n            }\n            frames.push(frame)\n            if (tp == HF2_FLAG_CMDPKT_BODY) {\n                return\n            } else {\n                U.assert(tp == HF2_FLAG_CMDPKT_LAST)\n                let total = 0\n                for (let f of frames) total += f.length\n                let r = new Uint8Array(total)\n                let ptr = 0\n                for (let f of frames) {\n                    U.memcpy(r, ptr, f)\n                    ptr += f.length\n                }\n                frames = []\n                if (r[2] & HF2_STATUS_EVENT) {\n                    // asynchronous event\n                    this.handleEvent(r)\n                } else {\n                    this.msgs.push(r)\n                }\n            }\n        }\n    }\n\n\n    error(m: string) {\n        return this.io.error(m)\n    }\n\n    talkAsync(cmd: number, data?: Uint8Array) {\n        let len = 8\n        if (data) len += data.length\n        let pkt = new Uint8Array(len)\n        let seq = ++this.cmdSeq & 0xffff\n        U.write32(pkt, 0, cmd);\n        U.write16(pkt, 4, seq);\n        U.write16(pkt, 6, 0);\n        if (data)\n            U.memcpy(pkt, 8, data, 0, data.length)\n        let numSkipped = 0\n        let handleReturnAsync = (): Promise<Uint8Array> =>\n            this.msgs.shiftAsync(1000) // we wait up to a second\n                .then(res => {\n                    if (U.read16(res, 0) != seq) {\n                        if (numSkipped < 3) {\n                            numSkipped++\n                            this.io.log(`message out of sync, (${seq} vs ${U.read16(res, 0)}); will re-try`)\n                            return handleReturnAsync()\n                        }\n                        this.error(\"out of sync\")\n                    }\n                    let info = \"\"\n                    if (res[3])\n                        info = \"; info=\" + res[3]\n                    switch (res[2]) {\n                        case HF2_STATUS_OK:\n                            return res.slice(4)\n                        case HF2_STATUS_INVALID_CMD:\n                            this.error(\"invalid command\" + info)\n                            break\n                        case HF2_STATUS_EXEC_ERR:\n                            this.error(\"execution error\" + info)\n                            break\n                        default:\n                            this.error(\"error \" + res[2] + info)\n                            break\n                    }\n                    return null\n                })\n                .catch(e => {\n                    this.error(e)\n                    return null\n                })\n\n        return this.lock.enqueue(\"talk\", () =>\n            this.sendMsgAsync(pkt)\n                .then(handleReturnAsync))\n    }\n\n\n    private sendMsgAsync(buf: Uint8Array, serial: number = 0) {\n        // Util.assert(buf.length <= this.maxMsgSize)\n        let frame = new Uint8Array(64)\n        let loop = (pos: number): Promise<void> => {\n            let len = buf.length - pos\n            if (len <= 0) return Promise.resolve()\n            if (len > 63) {\n                len = 63\n                frame[0] = HF2_FLAG_CMDPKT_BODY;\n            } else {\n                frame[0] = HF2_FLAG_CMDPKT_LAST;\n            }\n            if (serial) frame[0] = serial == 1 ? HF2_FLAG_SERIAL_OUT : HF2_FLAG_SERIAL_ERR;\n            frame[0] |= len;\n            for (let i = 0; i < len; ++i)\n                frame[i + 1] = buf[pos + i]\n            return this.io.sendPacketAsync(frame)\n                .then(() => loop(pos + len))\n        }\n        return loop(0)\n    }\n\n    onEvent(id: number, f: (buf: Uint8Array) => void) {\n        U.assert(!!(id & HF2_EV_MASK))\n        this.eventHandlers[id + \"\"] = f\n    }\n\n    onJDMessage(f: (buf: Uint8Array) => void) {\n        this.talkAsync(HF2_CMD_JDS_CONFIG, U.encodeU32LE([1]))\n        this.onEvent(HF2_EV_JDS_PACKET, f)\n    }\n\n    sendJDMessageAsync(buf: Uint8Array) {\n        return this.talkAsync(HF2_CMD_JDS_SEND, buf)\n    }\n\n    handleEvent(buf: Uint8Array) {\n        const evid = U.read32(buf, 0)\n        const f = this.eventHandlers[evid + \"\"]\n        if (f) {\n            f(buf.slice(4))\n        } else {\n            this.io.log(\"unhandled event: \" + evid.toString(16))\n            if (evid === 0x800020) {\n                this.io.onError(new Error(\"hf2 corrupted\"))\n            }\n        }\n    }\n    onSerial(data: Uint8Array, iserr: boolean) {\n        console.log(\"SERIAL:\", U.bufferToString(data))\n    }\n\n    async connectAsync(background?: boolean) {\n        await this.io.connectAsync(background)\n        const buf = await this.talkAsync(HF2_CMD_INFO)\n        this.io.log(\"Connected to: \" + U.bufferToString(buf))\n    }\n\n    disconnectAsync(): Promise<void> {\n        return this.io.disconnectAsync();\n    }\n}\n","import React, { useState, useEffect, useMemo } from \"react\";\nimport JacdacContext from \"../../../src/react/Context\";\nimport { JDBus, BusState } from \"../../../src/dom/bus\";\nimport { createUSBBus } from \"../../../src/dom/usb\";\nimport { CONNECTION_STATE } from \"../../../src/dom/constants\";\n\nconst bus = createUSBBus();\nconst JacdacProvider = ({ children }) => {\n    const [firstConnect, setFirstConnect] = useState(false)\n    const [connectionState, setConnectionState] = useState(bus.connectionState);\n\n    // connect in background on first load\n    useEffect(() => {\n        if (!firstConnect && bus.connectionState == BusState.Disconnected) {\n            setFirstConnect(true)\n            bus.connectAsync(true);\n        }\n        return () => { }\n    })\n\n    // subscribe to connection state changes\n    useEffect(() => bus.subscribe<BusState>(CONNECTION_STATE, connectionState => setConnectionState(connectionState)),[bus])\n\n    const connectAsync = () => bus.connectAsync();\n    const disconnectAsync = () => bus.disconnectAsync();\n    return (\n        <JacdacContext.Provider value={{ bus, connectionState, connectAsync, disconnectAsync }}>\n            {children}\n        </JacdacContext.Provider>\n    )\n}\n\nexport default JacdacProvider;\n","import { Transport, Proto } from \"./hf2\";\nimport { JDBus } from \"./bus\";\nimport { Packet } from \"./packet\";\n\nexport interface USBOptions {\n    getDevices: () => Promise<USBDevice[]>;\n    requestDevice: (options: USBDeviceRequestOptions) => Promise<USBDevice>\n}\n\nexport function isWebUSBSupported(): boolean {\n    return typeof navigator !== \"undefined\"\n        && !!navigator.usb\n        && !!navigator.usb.requestDevice;\n}\n\nexport function createUSBBus(options?: USBOptions): JDBus {\n    if (!options) {\n        if (isWebUSBSupported())\n            options = {\n                getDevices: () => navigator.usb.getDevices(),\n                requestDevice: (filters) => navigator.usb.requestDevice(filters)\n            }\n    }\n    // dummy impl\n    if (!options) {\n        options = {\n            getDevices: () => Promise.resolve([]),\n            requestDevice: (filters) => Promise.resolve(undefined)\n        }\n    }\n    let hf2: Proto;\n    const bus = new JDBus({\n        connectAsync: (background) => {\n            if (hf2) {\n                console.log(`reusing hf2`)\n                return Promise.resolve();\n            }\n            const transport = new Transport(options);\n            transport.onError = (e) => {\n                bus.errorHandler(\"HF2\", e)\n                bus.disconnectAsync()\n            }\n            hf2 = new Proto(transport);\n            const onJDMessage = (buf: Uint8Array) => {\n                const pkts = Packet.fromFrame(buf, bus.timestamp)\n                for (const pkt of pkts)\n                    bus.processPacket(pkt);\n            }\n            return hf2.connectAsync(background)\n                .then(() => hf2.onJDMessage(onJDMessage))\n                .catch(e => {\n                    console.log(`hf2 connection error`)\n                    hf2 = undefined;\n                    throw e;\n                })\n        },\n        sendPacketAsync: p => {\n            if (!hf2)\n                throw new Error(\"hf2 transport disconnected\")\n\n            const buf = p.toBuffer();\n            return hf2.sendJDMessageAsync(buf)\n                .then(() => { });\n        },\n        disconnectAsync: () => {\n            const h = hf2;\n            hf2 = undefined;\n            return h ? h.disconnectAsync() : Promise.resolve();\n        }\n    });\n\n    return bus;\n}","import \"core-js/modules/es6.array.index-of\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport ownerDocument from '../utils/ownerDocument';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport { elementAcceptingRef, exactProp } from '@material-ui/utils';\n\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\n\nfunction clickedRootScrollbar(event) {\n  return document.documentElement.clientWidth < event.clientX || document.documentElement.clientHeight < event.clientY;\n}\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n */\n\n\nfunction ClickAwayListener(props) {\n  var children = props.children,\n      _props$disableReactTr = props.disableReactTree,\n      disableReactTree = _props$disableReactTr === void 0 ? false : _props$disableReactTr,\n      _props$mouseEvent = props.mouseEvent,\n      mouseEvent = _props$mouseEvent === void 0 ? 'onClick' : _props$mouseEvent,\n      onClickAway = props.onClickAway,\n      _props$touchEvent = props.touchEvent,\n      touchEvent = _props$touchEvent === void 0 ? 'onTouchEnd' : _props$touchEvent;\n  var movedRef = React.useRef(false);\n  var nodeRef = React.useRef(null);\n  var mountedRef = React.useRef(false);\n  var syntheticEventRef = React.useRef(false);\n  React.useEffect(function () {\n    mountedRef.current = true;\n    return function () {\n      mountedRef.current = false;\n    };\n  }, []); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    nodeRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(children.ref, handleOwnRef); // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviours like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n\n  var handleClickAway = useEventCallback(function (event) {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    var insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false; // 1. IE 11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n\n    if (!mountedRef.current || !nodeRef.current || clickedRootScrollbar(event)) {\n      return;\n    } // Do not act if user performed touchmove\n\n\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n\n    var insideDOM; // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      // TODO v6 remove dead logic https://caniuse.com/#search=composedPath.\n      var doc = ownerDocument(nodeRef.current);\n      insideDOM = !doc.documentElement.contains(event.target) || nodeRef.current.contains(event.target);\n    }\n\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  }); // Keep track of mouse/touch events that bubbled up through the portal.\n\n  var createHandleSynthetic = function createHandleSynthetic(handlerName) {\n    return function (event) {\n      syntheticEventRef.current = true;\n      var childrenPropsHandler = children.props[handlerName];\n\n      if (childrenPropsHandler) {\n        childrenPropsHandler(event);\n      }\n    };\n  };\n\n  var childrenProps = {\n    ref: handleRef\n  };\n\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n\n  React.useEffect(function () {\n    if (touchEvent !== false) {\n      var mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      var doc = ownerDocument(nodeRef.current);\n\n      var handleTouchMove = function handleTouchMove() {\n        movedRef.current = true;\n      };\n\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return function () {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n\n  React.useEffect(function () {\n    if (mouseEvent !== false) {\n      var mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      var doc = ownerDocument(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return function () {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.cloneElement(children, childrenProps));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  ClickAwayListener['propTypes' + ''] = exactProp(ClickAwayListener.propTypes);\n}\n\nexport default ClickAwayListener;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { Transition } from 'react-transition-group';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\n\nfunction getScale(value) {\n  return \"scale(\".concat(value, \", \").concat(Math.pow(value, 2), \")\");\n}\n\nvar styles = {\n  entering: {\n    opacity: 1,\n    transform: getScale(1)\n  },\n  entered: {\n    opacity: 1,\n    transform: 'none'\n  }\n};\n/**\n * The Grow transition is used by the [Tooltip](/components/tooltips/) and\n * [Popover](/components/popover/) components.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Grow = /*#__PURE__*/React.forwardRef(function Grow(props, ref) {\n  var children = props.children,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props[\"in\"],\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? 'auto' : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var timer = React.useRef();\n  var autoTimeout = React.useRef();\n  var theme = useTheme();\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var foreignRef = useForkRef(children.ref, ref);\n  var handleRef = useForkRef(enableStrictModeCompat ? nodeRef : undefined, foreignRef);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEntering = normalizedTransitionCallback(onEntering);\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    reflow(node); // So the animation always start from the start.\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration,\n        delay = _getTransitionProps.delay;\n\n    var duration;\n\n    if (timeout === 'auto') {\n      duration = theme.transitions.getAutoHeightDuration(node.clientHeight);\n      autoTimeout.current = duration;\n    } else {\n      duration = transitionDuration;\n    }\n\n    node.style.transition = [theme.transitions.create('opacity', {\n      duration: duration,\n      delay: delay\n    }), theme.transitions.create('transform', {\n      duration: duration * 0.666,\n      delay: delay\n    })].join(',');\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration,\n        delay = _getTransitionProps2.delay;\n\n    var duration;\n\n    if (timeout === 'auto') {\n      duration = theme.transitions.getAutoHeightDuration(node.clientHeight);\n      autoTimeout.current = duration;\n    } else {\n      duration = transitionDuration;\n    }\n\n    node.style.transition = [theme.transitions.create('opacity', {\n      duration: duration,\n      delay: delay\n    }), theme.transitions.create('transform', {\n      duration: duration * 0.666,\n      delay: delay || duration * 0.333\n    })].join(',');\n    node.style.opacity = '0';\n    node.style.transform = getScale(0.75);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n\n  var addEndListener = function addEndListener(nodeOrNext, maybeNext) {\n    var next = enableStrictModeCompat ? nodeOrNext : maybeNext;\n\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTimeout.current || 0);\n    }\n  };\n\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    \"in\": inProp,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      style: _extends({\n        opacity: 0,\n        transform: getScale(0.75),\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, styles[state], style, children.props.style),\n      ref: handleRef\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nGrow.muiSupportAuto = true;\nexport default Grow;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Paper from '../Paper';\nimport { emphasize } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  var emphasis = theme.palette.type === 'light' ? 0.8 : 0.98;\n  var backgroundColor = emphasize(theme.palette.background[\"default\"], emphasis);\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, _defineProperty({\n      color: theme.palette.getContrastText(backgroundColor),\n      backgroundColor: backgroundColor,\n      display: 'flex',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      padding: '6px 16px',\n      borderRadius: theme.shape.borderRadius,\n      flexGrow: 1\n    }, theme.breakpoints.up('sm'), {\n      flexGrow: 'initial',\n      minWidth: 288\n    })),\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar SnackbarContent = /*#__PURE__*/React.forwardRef(function SnackbarContent(props, ref) {\n  var action = props.action,\n      classes = props.classes,\n      className = props.className,\n      message = props.message,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      other = _objectWithoutProperties(props, [\"action\", \"classes\", \"className\", \"message\", \"role\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 6,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, message), action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSnackbarContent'\n})(SnackbarContent);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport ClickAwayListener from '../ClickAwayListener';\nimport useEventCallback from '../utils/useEventCallback';\nimport capitalize from '../utils/capitalize';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport Grow from '../Grow';\nimport SnackbarContent from '../SnackbarContent';\nexport var styles = function styles(theme) {\n  var top1 = {\n    top: 8\n  };\n  var bottom1 = {\n    bottom: 8\n  };\n  var right = {\n    justifyContent: 'flex-end'\n  };\n  var left = {\n    justifyContent: 'flex-start'\n  };\n  var top3 = {\n    top: 24\n  };\n  var bottom3 = {\n    bottom: 24\n  };\n  var right3 = {\n    right: 24\n  };\n  var left3 = {\n    left: 24\n  };\n  var center = {\n    left: '50%',\n    right: 'auto',\n    transform: 'translateX(-50%)'\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      zIndex: theme.zIndex.snackbar,\n      position: 'fixed',\n      display: 'flex',\n      left: 8,\n      right: 8,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'center' }}`. */\n    anchorOriginTopCenter: _extends({}, top1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, top3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'center' }}`. */\n    anchorOriginBottomCenter: _extends({}, bottom1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, bottom3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }}`. */\n    anchorOriginTopRight: _extends({}, top1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, top3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }}`. */\n    anchorOriginBottomRight: _extends({}, bottom1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, bottom3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }}`. */\n    anchorOriginTopLeft: _extends({}, top1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, top3, left3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }}`. */\n    anchorOriginBottomLeft: _extends({}, bottom1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, bottom3, left3)))\n  };\n};\nvar Snackbar = /*#__PURE__*/React.forwardRef(function Snackbar(props, ref) {\n  var action = props.action,\n      _props$anchorOrigin = props.anchorOrigin;\n  _props$anchorOrigin = _props$anchorOrigin === void 0 ? {\n    vertical: 'bottom',\n    horizontal: 'center'\n  } : _props$anchorOrigin;\n\n  var vertical = _props$anchorOrigin.vertical,\n      horizontal = _props$anchorOrigin.horizontal,\n      _props$autoHideDurati = props.autoHideDuration,\n      autoHideDuration = _props$autoHideDurati === void 0 ? null : _props$autoHideDurati,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      ClickAwayListenerProps = props.ClickAwayListenerProps,\n      ContentProps = props.ContentProps,\n      _props$disableWindowB = props.disableWindowBlurListener,\n      disableWindowBlurListener = _props$disableWindowB === void 0 ? false : _props$disableWindowB,\n      message = props.message,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      open = props.open,\n      resumeHideDuration = props.resumeHideDuration,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Grow : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? {\n    enter: duration.enteringScreen,\n    exit: duration.leavingScreen\n  } : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"action\", \"anchorOrigin\", \"autoHideDuration\", \"children\", \"classes\", \"className\", \"ClickAwayListenerProps\", \"ContentProps\", \"disableWindowBlurListener\", \"message\", \"onClose\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"onMouseEnter\", \"onMouseLeave\", \"open\", \"resumeHideDuration\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"]);\n\n  var timerAutoHide = React.useRef();\n\n  var _React$useState = React.useState(true),\n      exited = _React$useState[0],\n      setExited = _React$useState[1];\n\n  var handleClose = useEventCallback(function () {\n    if (onClose) {\n      onClose.apply(void 0, arguments);\n    }\n  });\n  var setAutoHideTimer = useEventCallback(function (autoHideDurationParam) {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n\n    clearTimeout(timerAutoHide.current);\n    timerAutoHide.current = setTimeout(function () {\n      handleClose(null, 'timeout');\n    }, autoHideDurationParam);\n  });\n  React.useEffect(function () {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n\n    return function () {\n      clearTimeout(timerAutoHide.current);\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]); // Pause the timer when the user is interacting with the Snackbar\n  // or when the user hide the window.\n\n  var handlePause = function handlePause() {\n    clearTimeout(timerAutoHide.current);\n  }; // Restart the timer when the user is no longer interacting with the Snackbar\n  // or when the window is shown back.\n\n\n  var handleResume = React.useCallback(function () {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n\n  var handleMouseEnter = function handleMouseEnter(event) {\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n\n    handlePause();\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    handleResume();\n  };\n\n  var handleClickAway = function handleClickAway(event) {\n    if (onClose) {\n      onClose(event, 'clickaway');\n    }\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n  };\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  React.useEffect(function () {\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n      return function () {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]); // So we only render active snackbars.\n\n  if (!open && exited) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ClickAwayListener, _extends({\n    onClickAway: handleClickAway\n  }, ClickAwayListenerProps), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, classes[\"anchorOrigin\".concat(capitalize(vertical)).concat(capitalize(horizontal))], className),\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    \"in\": open,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: onEntered,\n    onEntering: onEntering,\n    onExit: onExit,\n    onExited: createChainedFunction(handleExited, onExited),\n    onExiting: onExiting,\n    timeout: transitionDuration,\n    direction: vertical === 'top' ? 'down' : 'up'\n  }, TransitionProps), children || /*#__PURE__*/React.createElement(SnackbarContent, _extends({\n    message: message,\n    action: action\n  }, ContentProps)))));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  flip: false,\n  name: 'MuiSnackbar'\n})(Snackbar);","import React, { useEffect, useContext, useState } from 'react';\n// tslint:disable-next-line: no-submodule-imports\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { ERROR } from '../../../src/dom/constants'\nimport JacdacContext from '../../../src/react/Context';\n\nexport default function ErrorSnackbar() {\n  const { bus } = useContext(JacdacContext)\n  const [open, setOpen] = useState(false);\n  const [error, setError] = useState(undefined)\n\n  useEffect(() => bus.subscribe(ERROR, error => {\n    setError(error);\n    setOpen(true);\n  }))\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setOpen(false);\n  };\n\n  const message = error ? `${error.exception.message}` : ''\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      open={open}\n      autoHideDuration={6000}\n      onClose={handleClose}\n      message={message}\n    />\n  );\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = /*#__PURE__*/React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeightProp = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props[\"in\"],\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  var collapsedHeight = typeof collapsedHeightProp === 'number' ? \"\".concat(collapsedHeightProp, \"px\") : collapsedHeightProp;\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var handleRef = useForkRef(ref, enableStrictModeCompat ? nodeRef : undefined);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  var handleExiting = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  var addEndListener = function addEndListener(nodeOrNext, maybeNext) {\n    var next = enableStrictModeCompat ? nodeOrNext : maybeNext;\n\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    \"in\": inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: handleRef\n    }, childProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport ListContext from '../List/ListContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    flex: '1 1 auto',\n    minWidth: 0,\n    marginTop: 4,\n    marginBottom: 4\n  },\n\n  /* Styles applied to the `Typography` components if primary and secondary are set. */\n  multiline: {\n    marginTop: 6,\n    marginBottom: 6\n  },\n\n  /* Styles applied to the `Typography` components if dense. */\n  dense: {},\n\n  /* Styles applied to the root element if `inset={true}`. */\n  inset: {\n    paddingLeft: 56\n  },\n\n  /* Styles applied to the primary `Typography` component. */\n  primary: {},\n\n  /* Styles applied to the secondary `Typography` component. */\n  secondary: {}\n};\nvar ListItemText = /*#__PURE__*/React.forwardRef(function ListItemText(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      primaryProp = props.primary,\n      primaryTypographyProps = props.primaryTypographyProps,\n      secondaryProp = props.secondary,\n      secondaryTypographyProps = props.secondaryTypographyProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\", \"inset\", \"primary\", \"primaryTypographyProps\", \"secondary\", \"secondaryTypographyProps\"]);\n\n  var _React$useContext = React.useContext(ListContext),\n      dense = _React$useContext.dense;\n\n  var primary = primaryProp != null ? primaryProp : children;\n\n  if (primary != null && primary.type !== Typography && !disableTypography) {\n    primary = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: dense ? 'body2' : 'body1',\n      className: classes.primary,\n      component: \"span\",\n      display: \"block\"\n    }, primaryTypographyProps), primary);\n  }\n\n  var secondary = secondaryProp;\n\n  if (secondary != null && secondary.type !== Typography && !disableTypography) {\n    secondary = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: \"body2\",\n      className: classes.secondary,\n      color: \"textSecondary\",\n      display: \"block\"\n    }, secondaryTypographyProps), secondary);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, dense && classes.dense, inset && classes.inset, primary && secondary && classes.multiline),\n    ref: ref\n  }, other), primary, secondary);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItemText'\n})(ListItemText);","import React from \"react\"\nimport { makeStyles, createStyles, Theme, Collapse } from '@material-ui/core';\nimport { Link } from 'gatsby-theme-material-ui';\n// tslint:disable-next-line: no-submodule-imports\nimport ListItem from '@material-ui/core/ListItem';\n// tslint:disable-next-line: no-submodule-imports\nimport List from '@material-ui/core/List';\n// tslint:disable-next-line: no-submodule-imports\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n// tslint:disable-next-line: no-submodule-imports\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { useStaticQuery, graphql } from \"gatsby\"\n\n\ninterface TocNode {\n    name: string;\n    path: string;\n    children?: TocNode[];\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            width: '100%',\n            maxWidth: 360,\n            backgroundColor: theme.palette.background.paper,\n        },\n        nested: {\n            paddingLeft: theme.spacing(4),\n        },\n    }),\n);\n\nfunction treeifyToc(toc: TocNode[]) {\n    toc = toc.slice(0)\n    // reconstruct tree\n    const tocNodes: { [index: string]: TocNode } = {};\n    toc.forEach(node => tocNodes[node.path.replace(/\\/$/, '')] = node);\n    toc.forEach((node, index) => {\n        const parts = node.path.replace(/\\/$/, '').split(\"/\");\n        parts.pop();\n        while (parts.length) {\n            const parentPath = `${parts.join(\"/\")}`;\n            const parent = tocNodes[parentPath]\n            if (parent) {\n                parent.children.push(node)\n                toc[index] = undefined;\n                break;\n            }\n            parts.pop();\n        }\n    })\n    toc = toc.filter(node => !!node);\n    return toc\n}\n\nfunction Toc() {\n    const classes = useStyles();\n    const data = useStaticQuery(graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n\n    allMdx {\n      edges {\n        node {\n          headings {\n            value\n          }\n          excerpt\n          fields {\n            slug\n          }\n        }\n      }\n    }\n\n    allSpecJson {\n      nodes {\n        name\n        shortId\n      }\n    }\n\n  }\n`)\n\n    // convert pages into tree\n    let toc: TocNode[] = data.allMdx.edges\n        .filter(node => !!node.node.headings.length && !/404/.test(node.node.headings[0].value))\n        .map(node => {\n            return {\n                name: node.node.headings[0].value,\n                path: node.node.fields.slug,\n                children: []\n            }\n        })\n\n    toc = toc.concat(data.allSpecJson.nodes.map(node => {\n        return {\n            name: node.name,\n            path: `/services/${node.shortId}`\n        }\n    }))\n\n    toc = treeifyToc(toc)\n    console.log(toc)\n\n    return <List component=\"nav\" className={classes.root}  >\n        {toc.map(entry => <TocListItem entry={entry} />)}\n    </List>\n\n    function TocListItem(props: { entry: TocNode }) {\n        const { entry } = props;\n        const sub = !!entry.children && !!entry.children.length;\n\n        return <React.Fragment>\n            <ListItem button key={entry.name} className={classes.nested}>\n                <Link to={entry.path}>\n                    <ListItemText primary={entry.name} />\n                </Link>\n            </ListItem>\n            {sub &&\n                <Collapse in={true}>\n                    <List component=\"div\">\n                        {entry.children.map(child => <TocListItem entry={child} />)}\n                    </List>\n                </Collapse>}\n        </React.Fragment>\n    }\n}\n\nexport default Toc;","import { createStyles as createStylesOriginal } from '@material-ui/styles'; // let warnOnce = false;\n// To remove in v5\n\nexport default function createStyles(styles) {\n  // warning(\n  //   warnOnce,\n  //   [\n  //     'Material-UI: createStyles from @material-ui/core/styles is deprecated.',\n  //     'Please use @material-ui/styles/createStyles',\n  //   ].join('\\n'),\n  // );\n  // warnOnce = true;\n  return createStylesOriginal(styles);\n}","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n// tslint:disable-next-line: no-submodule-imports\nimport AppBar from '@material-ui/core/AppBar';\n// tslint:disable-next-line: no-submodule-imports\nimport Toolbar from '@material-ui/core/Toolbar';\n// tslint:disable-next-line: no-submodule-imports\nimport Typography from '@material-ui/core/Typography';\n// tslint:disable-next-line: no-submodule-imports\nimport Drawer from '@material-ui/core/Drawer'\nimport ConnectButton from '../jacdac/ConnectButton';\nimport { Link } from 'gatsby-theme-material-ui';\n// tslint:disable-next-line: no-submodule-imports\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\n// tslint:disable-next-line: no-submodule-imports\nimport Divider from '@material-ui/core/Divider';\n// tslint:disable-next-line: no-submodule-imports\nimport IconButton from '@material-ui/core/IconButton';\n// tslint:disable-next-line: no-submodule-imports\nimport MenuIcon from '@material-ui/icons/Menu';\n// tslint:disable-next-line: no-submodule-imports\nimport ListItem from '@material-ui/core/ListItem';\n// tslint:disable-next-line: no-submodule-imports\nimport List from '@material-ui/core/List';\n// tslint:disable-next-line: no-submodule-imports\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n// tslint:disable-next-line: no-submodule-imports\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport JacdacProvider from \"../jacdac/Provider\"\nimport ErrorSnackbar from \"./ErrorSnackbar\"\nimport Toc from \"./Toc\"\n\n// tslint:disable-next-line: no-import-side-effect\nimport \"./layout.css\"\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n}));\n\nconst Layout = ({ children }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n\n  return (\n    <JacdacProvider>\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar position=\"fixed\"\n          className={clsx(classes.appBar, {\n            [classes.appBarShift]: open,\n          })}\n        >\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              onClick={handleDrawerOpen}\n              edge=\"start\"\n              className={clsx(classes.menuButton, open && classes.hide)}\n            > <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\">\n              <Link className={classes.menuButton} href=\"/jacdac-ts\" color=\"inherit\">{data.site.siteMetadata.title}</Link>\n            </Typography>\n            <ConnectButton />\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          className={classes.drawer}\n          variant=\"persistent\"\n          anchor=\"left\"\n          open={open}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={handleDrawerClose}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </div>\n          <Divider />\n          <Toc />\n        </Drawer>\n        <main\n          className={clsx(classes.content, {\n            [classes.contentShift]: open,\n          })}\n        >\n          <div className={classes.drawerHeader} />\n          <Typography>\n            {children}\n          </Typography>\n        </main>\n        <footer>\n          © {new Date().getFullYear()} Microsoft Corporation\n        </footer>\n        <ErrorSnackbar />\n      </div>\n    </JacdacProvider>\n  )\n}\n\nexport default Layout\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n}), 'Menu');\n\nexports[\"default\"] = _default;"],"sourceRoot":""}