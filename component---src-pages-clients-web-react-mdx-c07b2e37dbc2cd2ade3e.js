(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{cW1d:function(a,e,n){"use strict";n.r(e),n.d(e,"_frontmatter",(function(){return c})),n.d(e,"default",(function(){return o}));n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("91GP"),n("q1tI");var t=n("7ljp"),s=n("9Dj+");var c={},b={_frontmatter:c},p=s.a;function o(a){var e=a.components,n=function(a,e){if(null==a)return{};var n,t,s={},c=Object.keys(a);for(t=0;t<c.length;t++)n=c[t],e.indexOf(n)>=0||(s[n]=a[n]);return s}(a,["components"]);return Object(t.b)(p,Object.assign({},b,n,{components:e,mdxType:"MDXLayout"}),Object(t.b)("h1",null,"React"),Object(t.b)("p",null,"JACDAC is compatible with React 16+ and hooks"),Object(t.b)("h2",null,"JacdacContext"),Object(t.b)("p",null,"The ",Object(t.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"JacdacContext")," provides access to the bus, and connection/disconnection functionalies from your hooks or components."),Object(t.b)("div",{className:"gatsby-highlight","data-language":"tsx"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-tsx"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"import")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," JacdacContext ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"jacdac"'),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"myComponent"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," bus",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," connectionState",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," connectAsync",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," disconnectAsync ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useContext"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"JacdacContext",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),"div"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"\n            "),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),"span"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"bus",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"devices"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"length",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"})," devices"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"</"),"span"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"\n            "),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),"span"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"connectionState",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"</"),"span"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"\n            "),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),"button")," ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token attr-name"}),"onClick"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token script language-javascript"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token script-punctuation punctuation"}),"="),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),"connectAsync",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"connect"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"</"),"button"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"\n            "),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),"button")," ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token attr-name"}),"onClick"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token script language-javascript"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token script-punctuation punctuation"}),"="),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),"disconnectAsync",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"disconnect"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"</"),"button"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"\n        "),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"</"),"div"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"export")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"default")," MyComponent",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(t.b)("p",null,"You can also use the react syntax to use this context."),Object(t.b)("div",{className:"gatsby-highlight","data-language":"tsx"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-tsx"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token class-name"}),"JacdacContext.Consumer")),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"\n"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),"bus",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," connectionState",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," connectAsync",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," disconnectAsync",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"..."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"\n"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"</"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token class-name"}),"JacdacContext.Consumer")),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">"))))),Object(t.b)("h2",null,"useChange"),Object(t.b)("p",null,"This hook subscribes to the ",Object(t.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"CHANGE")," event of a ",Object(t.b)("a",Object.assign({parentName:"p"},{href:"/jacdac-ts/clients/web/dom"}),"DOM")," node to automatically refresh the view."),Object(t.b)("div",{className:"gatsby-highlight","data-language":"tsx"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-tsx"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"import")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," JacdacContext",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," useChange ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"jacdac"'),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function-variable function"}),"DeviceList")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," bus ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useContext"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"JacdacContext",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// useChange will automatically re-render "),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// when bus emits a ``CHANGE`` event"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," devices ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useChange"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"bus",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"n")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=>")," n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"devices"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"..."),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(t.b)("h2",null,"useQuery"),Object(t.b)("p",null,"The ",Object(t.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"useQuery")," hook allows to issue subscribeable queries for the GraphQL backend of JACDAC."))}o.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-clients-web-react-mdx-c07b2e37dbc2cd2ade3e.js.map